(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(t,e,n){t.exports=n(22)},16:function(t,e,n){},18:function(t,e,n){},20:function(t,e,n){},22:function(t,e,n){"use strict";n.r(e);var a=n(0),s=n.n(a),i=n(9),r=n.n(i),c=(n(16),n(2)),o=n(3),l=n(5),u=n(4),h=n(6),p=n(1),d=(n(18),function(t){function e(){var t,n;Object(c.a)(this,e);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(n=Object(l.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(s)))).state={selected:!1},n}return Object(h.a)(e,t),Object(o.a)(e,[{key:"selectToggle",value:function(){this.setState(function(t){return{selected:!t.selected}})}},{key:"componentWillReceiveProps",value:function(t,e){t.playing&&this.state.selected&&t.playSound(this.props.rowIndex)}},{key:"render",value:function(){var t=this.props,e=t.playing,n=t.first;return s.a.createElement("div",{onClick:this.selectToggle.bind(this),className:"bob"+(n?" first":" ")+(e?" playing":" ")+(this.state.selected?" selected":"")})}}]),e}(a.Component)),m=n(10),k=(n(20),function(t){function e(){var t;return Object(c.a)(this,e),(t=Object(l.a)(this,Object(u.a)(e).call(this))).options={bpm:120,barLength:4,barsPerRow:4,rowsPerScreen:6,soundsSrc:["./sounds/bd04.wav","./sounds/hh04.wav","./sounds/sd04.wav","./sounds/cp02.wav","./sounds/hh01.wav","./sounds/hh02.wav","./sounds/oh02.wav"]},t.state={currentTick:1,rows:[],tickDuration:null,totalTickLength:null,playing:!1,pattern:1},t._ticker=t.ticker.bind(Object(p.a)(Object(p.a)(t))),t}return Object(h.a)(e,t),Object(o.a)(e,[{key:"playSound",value:function(t){this.state.rows[t].sound.play()}},{key:"ticker",value:function(){this.setState(function(t){return{currentTick:t.currentTick+1>t.totalTickLength?1:t.currentTick+1}})}},{key:"play",value:function(){this.state.playing?this.stop():(this.setState(function(t){return{playing:!0}}),this.refTickerInterval=setInterval(this._ticker,this.state.tickDuration))}},{key:"stop",value:function(){clearInterval(this.refTickerInterval),this.setState(function(t){return{playing:!1}})}},{key:"screenBuilder",value:function(){for(var t=[],e=1;e<=this.options.rowsPerScreen;e++)t.push(s.a.createElement("div",{className:"row",key:e},s.a.createElement("div",{className:"row-header"},s.a.createElement("span",{className:"row-number"},e),s.a.createElement("span",null,this.options.soundsSrc[e-1])),s.a.createElement("div",{className:"row-content"},this.rowBuilder(e-1))));return t}},{key:"rowBuilder",value:function(t){for(var e=this.state,n=e.totalTickLength,a=e.currentTick,i=[],r=1;r<=n;r++)i.push(s.a.createElement(d,{playing:r===a,first:(r-1)%this.options.barLength===0,tick:r,key:r,currentTick:a,playSound:this.playSound.bind(this),rowIndex:t}," "));return i}},{key:"initialise",value:function(){this.setState({tickDuration:60/(this.options.bpm*this.options.barLength)*1e3,totalTickLength:this.options.barLength*this.options.barsPerRow});for(var t=[],e=1;e<=this.options.rowsPerScreen;e++){var n=new m.Howl({src:[this.options.soundsSrc[e-1]]});t.push({sound:n})}console.log(t),this.setState({rows:t})}},{key:"componentDidMount",value:function(){this.initialise()}},{key:"render",value:function(){var t=this.state.playing?"play":"";return s.a.createElement("div",{className:"App"},s.a.createElement("div",{className:"track-header"},s.a.createElement("button",{className:"btn btn-play "+t,onClick:this.play.bind(this)},"play"),s.a.createElement("button",{className:"btn btn-stop "+t,onClick:this.stop.bind(this)},"stop"),s.a.createElement("div",{className:"track-info"},s.a.createElement("span",{className:"bpm"},"bpm: "),this.options.bpm),s.a.createElement("div",{className:"track-info"},s.a.createElement("span",{className:"pattern"},"Pattern: "),this.state.pattern),s.a.createElement("div",{className:"track-info"},s.a.createElement("span",{className:"tracks"},"Tracks: "),this.state.rows.length),s.a.createElement("div",{className:"track-info"},s.a.createElement("span",{className:"tick"},"Tick: "),this.state.currentTick)),s.a.createElement("div",{className:"rows"},this.screenBuilder()))}}]),e}(a.Component));r.a.render(s.a.createElement(k,null),document.getElementById("root"))}},[[11,2,1]]]);
//# sourceMappingURL=main.ef6b7247.chunk.js.map